{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Typography from 'antd/lib/typography';\nimport Link from 'next/link';\nimport { ValidateEmail } from \"../../../core/validations/email\";\nimport axios from 'axios';\nimport { Config } from \"../../../core/config\";\nimport message from 'antd/lib/message';\nimport Button from '@atlaskit/button';\nimport Form, { ErrorMessage, Field, FormFooter } from '@atlaskit/form';\nimport Textfield from '@atlaskit/textfield';\nimport * as styles from \"./styles\";\nvar Title = Typography.Title;\n\nvar errorNotification = function errorNotification(m) {\n  message.error({\n    duration: 6,\n    content: m,\n    style: {\n      marginTop: '80px'\n    }\n  });\n};\n\nvar successNotification = function successNotification(m) {\n  message.success({\n    duration: 6,\n    content: m,\n    style: {\n      marginTop: '80px'\n    }\n  });\n}; // eslint-disable-next-line import/no-anonymous-default-export\n\n\nvar _default = /*#__PURE__*/function (_Component) {\n  _inherits(_default, _Component);\n\n  var _super = _createSuper(_default);\n\n  function _default(props) {\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function () {\n      var email = _this.state.email;\n\n      if (!ValidateEmail(email)) {\n        _this.setState({\n          valid: false\n        });\n\n        return;\n      }\n\n      axios.post(\"\".concat(Config().ServiceURI, \"login\"), {\n        Email: email\n      }).then(function (res) {\n        var status = res.status,\n            data = res.data;\n\n        if (data !== undefined && status === 200) {\n          successNotification(\"A login link has been successfully sent on the email address \".concat(email, \". Please click on the link to proceed. \"));\n\n          _this.setState({\n            email: ''\n          });\n        } else {\n          errorNotification(data.Error);\n        }\n      })[\"catch\"](function (error) {\n        var response = error.response;\n\n        if (response !== undefined && response.data !== undefined) {\n          errorNotification(response.data.Error);\n        } else {\n          errorNotification('Something went wrong, please try again');\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (e) {\n      _this.setState({\n        email: e.target.value\n      });\n    });\n\n    _this.state = {\n      email: '',\n      valid: true\n    };\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          email = _this$state.email,\n          valid = _this$state.valid;\n      return __jsx(styles.Root, null, __jsx(Form, {\n        onSubmit: this.handleSubmit\n      }, function (_ref) {\n        var formProps = _ref.formProps;\n        return __jsx(\"form\", _extends({}, formProps, {\n          name: \"validation-example\"\n        }), __jsx(Field, {\n          label: \"Work Email\",\n          isRequired: true,\n          name: \"work-email\",\n          defaultValue: \"\"\n        }, function (_ref2) {\n          var fieldProps = _ref2.fieldProps;\n          return __jsx(React.Fragment, null, __jsx(Textfield, _extends({}, fieldProps, {\n            value: email,\n            onChange: _this2.onChange\n          })), !valid && __jsx(ErrorMessage, null, \"Incorrect email address\"));\n        }), __jsx(FormFooter, null, __jsx(Button, {\n          style: {\n            height: '40px'\n          },\n          shouldFitContainer: true,\n          type: \"submit\",\n          appearance: \"primary\"\n        }, \"Login\")));\n      }), __jsx(Title, {\n        level: 5,\n        style: {\n          marginTop: '20px',\n          fontWeight: 500,\n          textAlign: 'center'\n        }\n      }, \"Don't have an account?\", ' ', __jsx(Link, {\n        href: \"/signup\"\n      }, __jsx(\"a\", {\n        href: \"/signup\"\n      }, \"Register\"))));\n    }\n  }]);\n\n  return _default;\n}(Component);\n\nexport { _default as default };","map":{"version":3,"sources":["/home/ubuntu/go/src/github.com/jobbox-tech/recruiter-ui/src/Containers/Login/Form/index.tsx"],"names":["React","Component","Typography","Link","ValidateEmail","axios","Config","message","Button","Form","ErrorMessage","Field","FormFooter","Textfield","styles","Title","errorNotification","m","error","duration","content","style","marginTop","successNotification","success","props","email","state","setState","valid","post","ServiceURI","Email","then","res","status","data","undefined","Error","response","e","target","value","handleSubmit","formProps","fieldProps","onChange","height","fontWeight","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Typography from 'antd/lib/typography';\nimport Link from 'next/link';\nimport { NextRouter } from 'next/router';\nimport { ValidateEmail } from '@/core/validations/email';\nimport axios from 'axios';\nimport { Config } from '@/core/config';\nimport message from 'antd/lib/message';\n\nimport Button from '@atlaskit/button';\nimport Form, { ErrorMessage, Field, FormFooter } from '@atlaskit/form';\n\nimport Textfield from '@atlaskit/textfield';\nimport * as styles from './styles';\n\nconst { Title } = Typography;\n\ntype Props = {\n  router: NextRouter;\n  authenticate: any;\n};\n\ntype State = {\n  email: string;\n  valid: boolean;\n};\n\nconst errorNotification = (m: string): void => {\n  message.error({\n    duration: 6,\n    content: m,\n    style: {\n      marginTop: '80px',\n    },\n  });\n};\n\nconst successNotification = (m): void => {\n  message.success({\n    duration: 6,\n    content: m,\n    style: {\n      marginTop: '80px',\n    },\n  });\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default class extends Component<Props, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      valid: true,\n    };\n  }\n\n  handleSubmit = (): void => {\n    const { email } = this.state;\n    if (!ValidateEmail(email)) {\n      this.setState({ valid: false });\n      return;\n    }\n\n    axios\n      .post(`${Config().ServiceURI}login`, {\n        Email: email,\n      })\n      .then(res => {\n        const { status, data } = res;\n        if (data !== undefined && status === 200) {\n          successNotification(\n            `A login link has been successfully sent on the email address ${email}. Please click on the link to proceed. `,\n          );\n          this.setState({ email: '' });\n        } else {\n          errorNotification(data.Error);\n        }\n      })\n      .catch(error => {\n        const { response } = error;\n        if (response !== undefined && response.data !== undefined) {\n          errorNotification(response.data.Error);\n        } else {\n          errorNotification('Something went wrong, please try again');\n        }\n      });\n  };\n\n  onChange = (e: { target: HTMLInputElement }): void => {\n    this.setState({\n      email: e.target.value,\n    });\n  };\n\n  render(): any {\n    const { email, valid } = this.state;\n    return (\n      <styles.Root>\n        <Form onSubmit={this.handleSubmit}>\n          {({ formProps }) => (\n            <form {...formProps} name=\"validation-example\">\n              <Field\n                label=\"Work Email\"\n                isRequired\n                name=\"work-email\"\n                defaultValue=\"\"\n              >\n                {({ fieldProps }: any) => (\n                  <>\n                    <Textfield\n                      {...fieldProps}\n                      value={email}\n                      onChange={this.onChange}\n                    />\n                    {!valid && (\n                      <ErrorMessage>Incorrect email address</ErrorMessage>\n                    )}\n                  </>\n                )}\n              </Field>\n              <FormFooter>\n                <Button\n                  style={{ height: '40px' }}\n                  shouldFitContainer\n                  type=\"submit\"\n                  appearance=\"primary\"\n                >\n                  Login\n                </Button>\n              </FormFooter>\n            </form>\n          )}\n        </Form>\n        <Title\n          level={5}\n          style={{\n            marginTop: '20px',\n            fontWeight: 500,\n            textAlign: 'center',\n          }}\n        >\n          Don&apos;t have an account?{' '}\n          <Link href=\"/signup\">\n            <a href=\"/signup\">Register</a>\n          </Link>\n        </Title>\n      </styles.Root>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}