{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport * as vars from \"../../core/Theme/vars\";\nimport Typography from 'antd/lib/typography';\nimport { Ripple } from 'react-awesome-spinners';\nimport { AppContainer } from \"../../core/Components/AppContainer\";\nimport Config from \"../../core/config\";\nimport Cookies from 'universal-cookie';\nimport message from 'antd/lib/message';\nimport axios from 'axios';\nimport * as styles from \"./styles\";\nvar Title = Typography.Title;\n\nvar errorNotification = function errorNotification() {\n  message.error({\n    duration: 4,\n    content: 'We could not authenticate your login request. Please try again with new login link',\n    style: {\n      marginTop: '100px'\n    }\n  });\n};\n\nvar Authenticate = /*#__PURE__*/function (_React$Component) {\n  _inherits(Authenticate, _React$Component);\n\n  var _super = _createSuper(Authenticate);\n\n  function Authenticate() {\n    _classCallCheck(this, Authenticate);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Authenticate, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          token = _this$props.token,\n          router = _this$props.router,\n          authenticate = _this$props.authenticate;\n      var cookies = new Cookies();\n      axios.post(\"\".concat(Config('ServiceURI'), \"/authenticate\"), {\n        Token: token\n      }).then(function (res) {\n        var status = res.status,\n            data = res.data;\n\n        if (data !== undefined && status === 200) {\n          cookies.set('session', data.AccessToken, {\n            path: '/'\n          });\n          authenticate(true);\n          router.push('/');\n        } else {\n          authenticate(false);\n          errorNotification();\n          setTimeout(function () {\n            router.push('/login');\n          }, 4000);\n        }\n      })[\"catch\"](function () {\n        authenticate(false);\n        errorNotification();\n        setTimeout(function () {\n          router.push('/login');\n        }, 4000);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", null, __jsx(styles.Root, null, __jsx(styles.Container, null, __jsx(Ripple, {\n        color: vars.Blue6\n      }), \" \", __jsx(\"br\", null), __jsx(Typography.Paragraph, null, ' ', \"We are securely logging you in, please wait ...\"))), __jsx(styles.Info, null, __jsx(Title, {\n        level: 5,\n        style: {\n          fontWeight: 'normal',\n          color: vars.HeadingColor1,\n          margin: 0,\n          textAlign: 'center',\n          paddingTop: '25px',\n          paddingBottom: '25px'\n        }\n      }, __jsx(AppContainer, null, \"You will be redirected to the requested webpage after authentication is completed\"))));\n    }\n  }]);\n\n  return Authenticate;\n}(React.Component);\n\nexport default Authenticate;","map":null,"metadata":{},"sourceType":"module"}