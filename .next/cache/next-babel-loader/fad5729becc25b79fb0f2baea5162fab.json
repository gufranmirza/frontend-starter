{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport Typography from 'antd/lib/typography';\nimport Link from 'next/link';\nimport axios from 'axios';\nimport { Config } from \"../../../core/config\";\nimport message from 'antd/lib/message';\nimport Button from '@atlaskit/button';\nimport Form, { ErrorMessage, Field, FormFooter } from '@atlaskit/form';\nimport { ValidateEmail } from \"../../../core/validations/email\";\nimport Textfield from '@atlaskit/textfield';\nimport * as styles from \"./styles\";\nconst {\n  Title\n} = Typography;\n\nconst errorNotification = m => {\n  message.error({\n    duration: 6,\n    content: m,\n    style: {\n      marginTop: '80px'\n    }\n  });\n};\n\nconst successNotification = m => {\n  message.success({\n    duration: 6,\n    content: m,\n    style: {\n      marginTop: '80px'\n    }\n  });\n}; // eslint-disable-next-line import/no-anonymous-default-export\n\n\nexport default class extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleSubmit\", () => {\n      const {\n        name,\n        email,\n        designation,\n        company\n      } = this.state;\n      axios.post(`${Config().ServiceURI}/signup`, {\n        Email: email,\n        FirstName: name,\n        CompanyName: company,\n        Designation: designation\n      }).then(res => {\n        const {\n          status,\n          data\n        } = res;\n\n        if (data !== undefined && status === 200) {\n          successNotification(`Your account has been created successfully and an confirmation link has been sent on email ${email}. Please click on the link to proceed. `);\n          this.setState({\n            email: ''\n          });\n        } else {\n          errorNotification(data.Error);\n        }\n      }).catch(error => {\n        const {\n          response\n        } = error;\n\n        if (response !== undefined && response.data !== undefined) {\n          errorNotification(response.data.Error);\n        } else {\n          errorNotification('Something went wrong, please try again');\n        }\n      });\n    });\n\n    _defineProperty(this, \"validateCompany\", value => {\n      if (value === '') {\n        return 'INCORRECT';\n      }\n\n      this.setState({\n        company: value\n      });\n      return undefined;\n    });\n\n    _defineProperty(this, \"validateName\", value => {\n      if (value === '') {\n        return 'INCORRECT';\n      }\n\n      this.setState({\n        name: value\n      });\n      return undefined;\n    });\n\n    _defineProperty(this, \"validateEmail\", value => {\n      if (!ValidateEmail(value)) {\n        return 'INCORRECT';\n      }\n\n      this.setState({\n        email: value\n      });\n      return undefined;\n    });\n\n    _defineProperty(this, \"validateDesignation\", value => {\n      if (value === '') {\n        return 'INCORRECT';\n      }\n\n      this.setState({\n        designation: value\n      });\n      return undefined;\n    });\n\n    this.state = {\n      email: '',\n      company: '',\n      designation: '',\n      name: ''\n    };\n  }\n\n  render() {\n    return __jsx(styles.Root, null, __jsx(Form, {\n      onSubmit: this.handleSubmit\n    }, ({\n      formProps\n    }) => __jsx(\"form\", _extends({}, formProps, {\n      name: \"validation-example\"\n    }), __jsx(Field, {\n      label: \"Company Name\",\n      isRequired: true,\n      name: \"company-name\",\n      validate: this.validateCompany,\n      defaultValue: \"\"\n    }, ({\n      fieldProps,\n      error\n    }) => __jsx(React.Fragment, null, __jsx(Textfield, fieldProps), error === 'INCORRECT' && __jsx(ErrorMessage, null, \"Please select a company you work for\"))), __jsx(Field, {\n      label: \"Work Email\",\n      isRequired: true,\n      name: \"work-email\",\n      validate: this.validateEmail,\n      defaultValue: \"\"\n    }, ({\n      fieldProps,\n      error\n    }) => __jsx(React.Fragment, null, __jsx(Textfield, fieldProps), error === 'INCORRECT' && __jsx(ErrorMessage, null, \"Incorrect email address\"))), __jsx(Field, {\n      label: \"Your Name\",\n      isRequired: true,\n      name: \"your-name\",\n      validate: this.validateName,\n      defaultValue: \"\"\n    }, ({\n      fieldProps,\n      error\n    }) => __jsx(React.Fragment, null, __jsx(Textfield, fieldProps), error === 'INCORRECT' && __jsx(ErrorMessage, null, \"Name can not be blank\"))), __jsx(Field, {\n      label: \"Designation\",\n      isRequired: true,\n      name: \"your-designation\",\n      validate: this.validateDesignation,\n      defaultValue: \"\"\n    }, ({\n      fieldProps,\n      error\n    }) => __jsx(React.Fragment, null, __jsx(Textfield, fieldProps), error === 'INCORRECT' && __jsx(ErrorMessage, null, \"Designation can not be blank\"))), __jsx(FormFooter, null, __jsx(Button, {\n      style: {\n        height: '40px'\n      },\n      shouldFitContainer: true,\n      type: \"submit\",\n      appearance: \"primary\"\n    }, \"Sign Up & Post A Job\")))), __jsx(Title, {\n      level: 5,\n      style: {\n        marginTop: '20px',\n        fontWeight: 500,\n        textAlign: 'center'\n      }\n    }, \"Already have an account?\", ' ', __jsx(Link, {\n      href: \"/login\"\n    }, __jsx(\"a\", {\n      href: \"/login\"\n    }, \"Log in\"))));\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}