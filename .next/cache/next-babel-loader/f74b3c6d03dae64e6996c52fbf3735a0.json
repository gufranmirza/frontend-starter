{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Typography from 'antd/lib/typography';\nimport Link from 'next/link';\nimport axios from 'axios';\nimport { Config } from \"../../../core/config\";\nimport message from 'antd/lib/message';\nimport Button from '@atlaskit/button';\nimport Form, { ErrorMessage, Field, FormFooter } from '@atlaskit/form';\nimport { ValidateEmail } from \"../../../core/validations/email\";\nimport Textfield from '@atlaskit/textfield';\nimport * as styles from \"./styles\";\nvar Title = Typography.Title;\n\nvar errorNotification = function errorNotification(m) {\n  message.error({\n    duration: 6,\n    content: m,\n    style: {\n      marginTop: '80px'\n    }\n  });\n};\n\nvar successNotification = function successNotification(m) {\n  message.success({\n    duration: 6,\n    content: m,\n    style: {\n      marginTop: '80px'\n    }\n  });\n}; // eslint-disable-next-line import/no-anonymous-default-export\n\n\nvar _default = /*#__PURE__*/function (_Component) {\n  _inherits(_default, _Component);\n\n  var _super = _createSuper(_default);\n\n  function _default(props) {\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function () {\n      var _this$state = _this.state,\n          name = _this$state.name,\n          email = _this$state.email,\n          designation = _this$state.designation,\n          company = _this$state.company;\n      axios.post(\"\".concat(Config().ServiceURI, \"/signup\"), {\n        Email: email,\n        FirstName: name,\n        CompanyName: company,\n        Designation: designation\n      }).then(function (res) {\n        var status = res.status,\n            data = res.data;\n\n        if (data !== undefined && status === 200) {\n          successNotification(\"Your account has been created successfully and an confirmation link has been sent on email \".concat(email, \". Please click on the link to proceed. \"));\n\n          _this.setState({\n            email: ''\n          });\n        } else {\n          errorNotification(data.Error);\n        }\n      })[\"catch\"](function (error) {\n        var response = error.response;\n\n        if (response !== undefined && response.data !== undefined) {\n          errorNotification(response.data.Error);\n        } else {\n          errorNotification('Something went wrong, please try again');\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validateCompany\", function (value) {\n      if (value === '') {\n        return 'INCORRECT';\n      }\n\n      _this.setState({\n        company: value\n      });\n\n      return undefined;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validateName\", function (value) {\n      if (value === '') {\n        return 'INCORRECT';\n      }\n\n      _this.setState({\n        name: value\n      });\n\n      return undefined;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validateEmail\", function (value) {\n      if (!ValidateEmail(value)) {\n        return 'INCORRECT';\n      }\n\n      _this.setState({\n        email: value\n      });\n\n      return undefined;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validateDesignation\", function (value) {\n      if (value === '') {\n        return 'INCORRECT';\n      }\n\n      _this.setState({\n        designation: value\n      });\n\n      return undefined;\n    });\n\n    _this.state = {\n      email: '',\n      company: '',\n      designation: '',\n      name: ''\n    };\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(styles.Root, null, __jsx(Form, {\n        onSubmit: this.handleSubmit\n      }, function (_ref) {\n        var formProps = _ref.formProps;\n        return __jsx(\"form\", _extends({}, formProps, {\n          name: \"validation-example\"\n        }), __jsx(Field, {\n          label: \"Company Name\",\n          isRequired: true,\n          name: \"company-name\",\n          validate: _this2.validateCompany,\n          defaultValue: \"\"\n        }, function (_ref2) {\n          var fieldProps = _ref2.fieldProps,\n              error = _ref2.error;\n          return __jsx(React.Fragment, null, __jsx(Textfield, fieldProps), error === 'INCORRECT' && __jsx(ErrorMessage, null, \"Please select a company you work for\"));\n        }), __jsx(Field, {\n          label: \"Work Email\",\n          isRequired: true,\n          name: \"work-email\",\n          validate: _this2.validateEmail,\n          defaultValue: \"\"\n        }, function (_ref3) {\n          var fieldProps = _ref3.fieldProps,\n              error = _ref3.error;\n          return __jsx(React.Fragment, null, __jsx(Textfield, fieldProps), error === 'INCORRECT' && __jsx(ErrorMessage, null, \"Incorrect email address\"));\n        }), __jsx(Field, {\n          label: \"Your Name\",\n          isRequired: true,\n          name: \"your-name\",\n          validate: _this2.validateName,\n          defaultValue: \"\"\n        }, function (_ref4) {\n          var fieldProps = _ref4.fieldProps,\n              error = _ref4.error;\n          return __jsx(React.Fragment, null, __jsx(Textfield, fieldProps), error === 'INCORRECT' && __jsx(ErrorMessage, null, \"Name can not be blank\"));\n        }), __jsx(Field, {\n          label: \"Designation\",\n          isRequired: true,\n          name: \"your-designation\",\n          validate: _this2.validateDesignation,\n          defaultValue: \"\"\n        }, function (_ref5) {\n          var fieldProps = _ref5.fieldProps,\n              error = _ref5.error;\n          return __jsx(React.Fragment, null, __jsx(Textfield, fieldProps), error === 'INCORRECT' && __jsx(ErrorMessage, null, \"Designation can not be blank\"));\n        }), __jsx(FormFooter, null, __jsx(Button, {\n          style: {\n            height: '40px'\n          },\n          shouldFitContainer: true,\n          type: \"submit\",\n          appearance: \"primary\"\n        }, \"Sign Up & Post A Job\")));\n      }), __jsx(Title, {\n        level: 5,\n        style: {\n          marginTop: '20px',\n          fontWeight: 500,\n          textAlign: 'center'\n        }\n      }, \"Already have an account?\", ' ', __jsx(Link, {\n        href: \"/login\"\n      }, __jsx(\"a\", {\n        href: \"/login\"\n      }, \"Log in\"))));\n    }\n  }]);\n\n  return _default;\n}(Component);\n\nexport { _default as default };","map":null,"metadata":{},"sourceType":"module"}