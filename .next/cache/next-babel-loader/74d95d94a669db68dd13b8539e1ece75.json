{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport * as vars from \"../../core/Theme/vars\";\nimport Typography from 'antd/lib/typography';\nimport { Ripple } from 'react-awesome-spinners';\nimport { AppContainer } from \"../../core/Components/AppContainer\";\nimport { Config } from \"../../core/config\";\nimport cookie from 'cookie-cutter';\nimport message from 'antd/lib/message';\nimport axios from 'axios';\nimport * as styles from \"./styles\";\nvar Title = Typography.Title;\n\nvar errorNotification = function errorNotification() {\n  message.error({\n    duration: 4,\n    content: 'We could not authenticate your login request. Please try again with new login link',\n    style: {\n      marginTop: '100px'\n    }\n  });\n};\n\nvar Authenticate = /*#__PURE__*/function (_React$Component) {\n  _inherits(Authenticate, _React$Component);\n\n  var _super = _createSuper(Authenticate);\n\n  function Authenticate() {\n    _classCallCheck(this, Authenticate);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Authenticate, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          token = _this$props.token,\n          router = _this$props.router,\n          authenticate = _this$props.authenticate;\n      axios.post(\"\".concat(Config().ServiceURI, \"authenticate\"), {\n        Token: token\n      }).then(function (res) {\n        var status = res.status,\n            data = res.data;\n\n        if (data !== undefined && status === 200) {\n          cookie.set('session', data.AccessToken);\n          authenticate(true);\n          router.push('/');\n        } else {\n          authenticate(false);\n          errorNotification();\n          setTimeout(function () {\n            router.push('/login');\n          }, 4000);\n        }\n      })[\"catch\"](function () {\n        authenticate(false);\n        errorNotification();\n        setTimeout(function () {\n          router.push('/login');\n        }, 4000);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var loading = this.state.loading;\n      return __jsx(\"div\", null, __jsx(styles.Root, null, loading && __jsx(styles.Container, null, __jsx(Ripple, {\n        color: vars.Blue6\n      }), \" \", __jsx(\"br\", null), __jsx(Typography.Paragraph, null, ' ', \"We are securely logging you in, please wait ...\"))), __jsx(styles.Info, null, __jsx(Title, {\n        level: 5,\n        style: {\n          fontWeight: 'normal',\n          color: vars.HeadingColor1,\n          margin: 0,\n          textAlign: 'center',\n          paddingTop: '25px',\n          paddingBottom: '25px'\n        }\n      }, __jsx(AppContainer, null, \"You will be redirected to the requested webpage after authentication is completed\"))));\n    }\n  }]);\n\n  return Authenticate;\n}(React.Component);\n\nexport default Authenticate;","map":{"version":3,"sources":["/home/ubuntu/go/src/github.com/jobbox-tech/recruiter-ui/src/Containers/StartSession/index.tsx"],"names":["React","vars","Typography","Ripple","AppContainer","Config","cookie","message","axios","styles","Title","errorNotification","error","duration","content","style","marginTop","Authenticate","props","token","router","authenticate","post","ServiceURI","Token","then","res","status","data","undefined","set","AccessToken","push","setTimeout","loading","state","Blue6","fontWeight","color","HeadingColor1","margin","textAlign","paddingTop","paddingBottom","Component"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,KAAKC,IAAZ;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,SAASC,MAAT,QAAuB,wBAAvB;AACA,SAASC,YAAT;AAEA,SAASC,MAAT;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,MAAZ;IAEQC,K,GAAUR,U,CAAVQ,K;;AAYR,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAY;AACpCJ,EAAAA,OAAO,CAACK,KAAR,CAAc;AACZC,IAAAA,QAAQ,EAAE,CADE;AAEZC,IAAAA,OAAO,EACL,oFAHU;AAIZC,IAAAA,KAAK,EAAE;AACLC,MAAAA,SAAS,EAAE;AADN;AAJK,GAAd;AAQD,CATD;;IAWMC,Y;;;;;;;;;;;;;wCACsB;AAAA,wBACgB,KAAKC,KADrB;AAAA,UAChBC,KADgB,eAChBA,KADgB;AAAA,UACTC,MADS,eACTA,MADS;AAAA,UACDC,YADC,eACDA,YADC;AAExBb,MAAAA,KAAK,CACFc,IADH,WACWjB,MAAM,GAAGkB,UADpB,mBAC8C;AAC1CC,QAAAA,KAAK,EAAEL;AADmC,OAD9C,EAIGM,IAJH,CAIQ,UAAAC,GAAG,EAAI;AAAA,YACHC,MADG,GACcD,GADd,CACHC,MADG;AAAA,YACKC,IADL,GACcF,GADd,CACKE,IADL;;AAEX,YAAIA,IAAI,KAAKC,SAAT,IAAsBF,MAAM,KAAK,GAArC,EAA0C;AACxCrB,UAAAA,MAAM,CAACwB,GAAP,CAAW,SAAX,EAAsBF,IAAI,CAACG,WAA3B;AACAV,UAAAA,YAAY,CAAC,IAAD,CAAZ;AACAD,UAAAA,MAAM,CAACY,IAAP,CAAY,GAAZ;AACD,SAJD,MAIO;AACLX,UAAAA,YAAY,CAAC,KAAD,CAAZ;AACAV,UAAAA,iBAAiB;AACjBsB,UAAAA,UAAU,CAAC,YAAM;AACfb,YAAAA,MAAM,CAACY,IAAP,CAAY,QAAZ;AACD,WAFS,EAEP,IAFO,CAAV;AAGD;AACF,OAjBH,WAkBS,YAAM;AACXX,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACAV,QAAAA,iBAAiB;AACjBsB,QAAAA,UAAU,CAAC,YAAM;AACfb,UAAAA,MAAM,CAACY,IAAP,CAAY,QAAZ;AACD,SAFS,EAEP,IAFO,CAAV;AAGD,OAxBH;AAyBD;;;6BAEa;AAAA,UACJE,OADI,GACQ,KAAKC,KADb,CACJD,OADI;AAEZ,aACE,mBACE,MAAC,MAAD,CAAQ,IAAR,QACGA,OAAO,IACN,MAAC,MAAD,CAAQ,SAAR,QACE,MAAC,MAAD;AAAQ,QAAA,KAAK,EAAEjC,IAAI,CAACmC;AAApB,QADF,OACgC,iBADhC,EAEE,MAAC,UAAD,CAAY,SAAZ,QACG,GADH,oDAFF,CAFJ,CADF,EAYE,MAAC,MAAD,CAAQ,IAAR,QACE,MAAC,KAAD;AACE,QAAA,KAAK,EAAE,CADT;AAEE,QAAA,KAAK,EAAE;AACLC,UAAAA,UAAU,EAAE,QADP;AAELC,UAAAA,KAAK,EAAErC,IAAI,CAACsC,aAFP;AAGLC,UAAAA,MAAM,EAAE,CAHH;AAILC,UAAAA,SAAS,EAAE,QAJN;AAKLC,UAAAA,UAAU,EAAE,MALP;AAMLC,UAAAA,aAAa,EAAE;AANV;AAFT,SAWE,MAAC,YAAD,4FAXF,CADF,CAZF,CADF;AAiCD;;;;EAjEwB3C,KAAK,CAAC4C,S;;AAmEjC,eAAe3B,YAAf","sourcesContent":["import React from 'react';\n\nimport * as vars from '@/core/Theme/vars';\nimport Typography from 'antd/lib/typography';\nimport { Ripple } from 'react-awesome-spinners';\nimport { AppContainer } from '@/core/Components/AppContainer';\nimport { NextRouter } from 'next/router';\nimport { Config } from '@/core/config';\nimport cookie from 'cookie-cutter';\nimport message from 'antd/lib/message';\n\nimport axios from 'axios';\nimport * as styles from './styles';\n\nconst { Title } = Typography;\n\ntype State = {\n  loading: boolean;\n};\n\ntype Props = {\n  token: string;\n  router: NextRouter;\n  authenticate: any;\n};\n\nconst errorNotification = (): void => {\n  message.error({\n    duration: 4,\n    content:\n      'We could not authenticate your login request. Please try again with new login link',\n    style: {\n      marginTop: '100px',\n    },\n  });\n};\n\nclass Authenticate extends React.Component<Props, State> {\n  componentDidMount(): void {\n    const { token, router, authenticate } = this.props;\n    axios\n      .post(`${Config().ServiceURI}authenticate`, {\n        Token: token,\n      })\n      .then(res => {\n        const { status, data } = res;\n        if (data !== undefined && status === 200) {\n          cookie.set('session', data.AccessToken);\n          authenticate(true);\n          router.push('/');\n        } else {\n          authenticate(false);\n          errorNotification();\n          setTimeout(() => {\n            router.push('/login');\n          }, 4000);\n        }\n      })\n      .catch(() => {\n        authenticate(false);\n        errorNotification();\n        setTimeout(() => {\n          router.push('/login');\n        }, 4000);\n      });\n  }\n\n  render(): any {\n    const { loading } = this.state;\n    return (\n      <div>\n        <styles.Root>\n          {loading && (\n            <styles.Container>\n              <Ripple color={vars.Blue6} /> <br />\n              <Typography.Paragraph>\n                {' '}\n                We are securely logging you in, please wait ...\n              </Typography.Paragraph>\n            </styles.Container>\n          )}\n        </styles.Root>\n        <styles.Info>\n          <Title\n            level={5}\n            style={{\n              fontWeight: 'normal',\n              color: vars.HeadingColor1,\n              margin: 0,\n              textAlign: 'center',\n              paddingTop: '25px',\n              paddingBottom: '25px',\n            }}\n          >\n            <AppContainer>\n              You will be redirected to the requested webpage after\n              authentication is completed\n            </AppContainer>\n          </Title>\n        </styles.Info>\n      </div>\n    );\n  }\n}\nexport default Authenticate;\n"]},"metadata":{},"sourceType":"module"}